# 车险业务数据分析 Claude Skill

## 概述

这个Claude Skill专门用于分析车险签单清单数据，提供全面的业务洞察和预警监控功能。基于真实的业务规则和数据洞察，能够自动化处理Excel文件、生成统计报告、识别业务异常。

## 文件结构

```
analyzing-auto-insurance-data/
├── SKILL.md                    # 主Skill定义文件
├── README.md                   # 使用说明文档
├── quick-analysis.py           # 快速数据分析脚本
├── monitoring-alerts.py        # 监控预警脚本
└── examples/                   # 示例文件目录（可选）
```

## 快速开始

### 1. 基础数据分析
```bash
# 分析Excel文件
python quick-analysis.py "path/to/your/insurance_data.xlsx"

# 分析CSV文件  
python quick-analysis.py "path/to/your/insurance_data.csv"
```

### 2. 运行监控预警
```bash
# 对数据文件运行完整的监控检查
python monitoring-alerts.py "path/to/your/insurance_data.xlsx"
```

### 3. 在Claude中使用
```
请使用analyzing-auto-insurance-data skill分析我的车险数据文件
```

## 功能特性

### 📊 数据分析功能
- **基础统计**: 总保单数、总保费、平均保费、手续费统计
- **客户分析**: 9类客户群体分布和占比分析
- **险别分析**: 5种险别组合结构分析
- **续保分析**: 转保、续保、新保三大类别分析
- **机构分析**: 三级机构集中度风险评估
- **趋势分析**: 日度保费波动和异常检测

### ⚠️ 监控预警功能
- **日保费波动**: 检测超过10%的异常波动
- **工作日模式**: 识别同星期异常偏离
- **周末激增**: 发现周末业务异常增长（超过10倍）
- **机构集中度**: 监控单一机构占比超过40%的风险
- **周五下滑**: 检测周五业务大幅下降（超过20%）
- **周一波动**: 识别连续周一的剧烈波动

## 输入数据要求

### 必需字段
- `投保确认时间`: 签单日期时间
- `总保费`: 保费金额（万元）
- `客户类别`: 客户类型分类
- `险别组合`: 险别组合类型
- `续保情况`: 续保状态
- `三级机构`: 机构名称

### 可选字段
- `手续费`: 手续费金额
- `签单保额`: 保额数据
- `四级机构`: 下级机构信息
- `业务员`: 业务员姓名

## 业务规则

### 数据清洗规则
1. ✅ **负值保费**: 正常现象（批改退保导致），保留分析
2. ✅ **零手续费**: 正常现象，无需特殊处理  
3. ⚠️ **保额负值**: 异常值（如-470万），建议忽略

### 预警阈值标准
- **日保费波动**: ±10%为异常阈值
- **周末增长**: 超过10倍为异常激增
- **机构集中度**: 单一机构占比超过40%为高风险
- **周五下降**: 超过20%为显著下滑
- **周一波动**: 连续波动超过10%为异常

### 核心洞察基准
- **高价值客户**: 非营业个人客车（53.8%占比）
- **关注群体**: 摩托车（24.8%）、非营业货车（5.6%）
- **险别结构**: 单交业务48.1%，商业险渗透率低
- **续保分布**: 转保68.4%、续保26.3%、新保5.3%
- **机构分布**: 天府机构占比42%，存在集中度风险

## 输出格式

### 快速分析报告
```
============================================================
车险业务数据快速分析报告
数据来源: insurance_data.xlsx
分析时间: 2025-11-04 10:30:00
============================================================

📊 基础统计
------------------------------
总保单数: 19,965
总保费: 8,542.36万元
平均保费: 0.43万元
手续费总额: 234.56万元
平均手续费率: 2.75%

👥 客户结构分析
------------------------------
主要客户类型: 非营业个人客车
  非营业个人客车: 53.8%
  摩托车: 24.8%
  非营业货车: 5.6%
```

### 监控预警报告
```
================================================================================
车险业务监控预警报告
监控时间: 2025-11-04 10:30:00
数据记录: 19,965 条
================================================================================

📊 预警统计
  总计预警: 5 个
  🔴 高优先级: 2 个
  🟡 中优先级: 2 个
  🔵 信息类: 1 个

🚨 高优先级预警详情:
  1. 日保费波动异常: 2025-03-14日保费下降24.3%(-24.3%)，超过10%阈值
  2. 周一波动巨大: 连续周一波动异常: 318万→209万→274万万
```

## 使用示例

### 示例1: 日常业务分析
```bash
python quick-analysis.py "日报汇总-20250308-20250325.xlsx"
```

### 示例2: 运行完整监控
```bash
python monitoring-alerts.py "三周合并数据.csv"
```

### 示例3: 在Claude中的自然语言调用
```
请分析我的车险数据文件"三周趋势分析数据.csv"，重点关注：
1. 每日保费变化趋势
2. 是否有异常波动需要关注
3. 客户结构分布情况

然后运行监控预警，检查是否存在业务异常。
```

## 最佳实践建议

### 数据质量
1. **时间字段**: 确保`投保确认时间`格式正确且完整
2. **机构命名**: 使用标准的三级机构名称
3. **分类标准**: 客户类别、险别组合使用统一的分类标准

### 分析重点
1. **优先关注**: 日保费波动超过10%的异常
2. **特别关注**: 周一波动（318万→209万→274万案例）
3. **验证因素**: 周末激增需确认是否为节假日调休

### 业务洞察
1. **集中度风险**: 天府机构42%占比需持续关注
2. **客户策略**: 个人客户赔付率更低，应鼓励承保
3. **产品机会**: 48%单交业务存在商业险提升空间

## 扩展功能

可以通过修改以下参数自定义监控规则：

```python
# 在monitoring-alerts.py中调整阈值
self.VOLATILITY_THRESHOLD = 0.15  # 调整为15%
self.WEEKEND_GROWTH_THRESHOLD = 8   # 调整为8倍
self.INSTITUTION_CONCENTRATION_THRESHOLD = 0.35  # 调整为35%
```

## 技术支持

如遇到问题，请检查：
1. 数据文件格式是否正确
2. 必需字段是否完整
3. 文件路径是否正确
4. Python环境是否配置正确（需要pandas、numpy）

---

*版本: 1.0*  
*最后更新: 2025-11-04*